---
import { QUART_CONSTANTS } from '../consts';
---

<div 
  id="quartCalculator"
  data-constants={JSON.stringify(QUART_CONSTANTS)}
  role="main"
  aria-labelledby="calculator-title"
>

    <div class="grid divider-grid sticky">
      <hgroup class="totals-hgroup">
        <h3 id="calculator-title">Totals:</h3>
        <p><span id="totalCuFt" aria-live="polite">62</span> Cubic Feet</p>
        <p><span id="totalQuarts" aria-live="polite">1594.3</span> Quarts</p>
      </hgroup>
      <div class="vertical-divider" role="separator"></div>
      <hgroup>
        <p>1 Cubic Foot</h3>
        <p>Has 25.714 US dry quarts.</p>
      </hgroup>
    </div>

  <p id="calculator-instructions">Enter the number of totes, and cubic feet per tote, then check the boxes of the sizes you want to calculate.</p>
  
  <article role="group" aria-labelledby="input-section">
    <h4 id="input-section" class="sr-only">Tote Input Section</h4>
    <div class="quart-calculator grid">
      <div>
        <label for="totes">Number of Totes:</label>
        <input 
          type="number" 
          id="totes" 
          inputmode="numeric" 
          pattern="[0-9]*" 
          min="1" 
          value="1"
          class="number-input"
          aria-describedby="totes-description">
        <span id="totes-description" class="sr-only">Enter the number of totes to calculate</span>
      </div>
      <div>
        <label for="cuft">Cubic Feet per Tote:</label>
        <input 
          type="number" 
          id="cuft" 
          inputmode="numeric" 
          pattern="[0-9]*" 
          min="0" 
          step="1" 
          value="62"
          class="number-input"
          aria-describedby="cuft-description">
        <span id="cuft-description" class="sr-only">Enter the cubic feet per tote</span>
      </div> 
    </div>
  </article>

  <div class="quart-calculator grid" role="group" aria-labelledby="calculator-instructions">
    <article class="calculator-card">
      <header>
        <input 
          type="checkbox" 
          id="enable8qt"
          aria-controls="slider8qt qty8qt"
          aria-label="Enable 8 quart units">
        <label for="qty8qt">8 QT Units (max: <span id="max8qt">0</span>):</label>
        <progress id="progress8qt" value="0" max="100" aria-label="8 quart units remaining space" />
      </header>
      <input 
        type="number" 
        id="qty8qt" 
        inputmode="numeric" 
        pattern="[0-9]*" 
        min="0" 
        step="1" 
        value="0" 
        class="qty-input"
        aria-label="8 quart units quantity">
      <footer>
        <input 
          type="range" 
          id="slider8qt" 
          min="0" 
          max="100" 
          value="0"
          aria-label="Adjust 8 quart units"
          aria-describedby="qty8qt">
      </footer>
    </article>
    <article class="calculator-card">
      <header>
        <input 
          type="checkbox" 
          id="enable16qt"
          aria-controls="slider16qt qty16qt"
          aria-label="Enable 16 quart units">
        <label for="qty16qt">16 QT Units (max: <span id="max16qt">0</span>):</label>
        <progress id="progress16qt" value="0" max="100" aria-label="16 quart units remaining space" />
      </header>
      <input 
        type="number" 
        id="qty16qt" 
        inputmode="numeric" 
        pattern="[0-9]*" 
        min="0" 
        step="1" 
        value="0" 
        class="qty-input"
        aria-label="16 quart units quantity">
      <footer>
        <input 
          type="range" 
          id="slider16qt" 
          min="0" 
          max="100" 
          value="0"
          aria-label="Adjust 16 quart units"
          aria-describedby="qty16qt">
      </footer>
    </article>
    <article class="calculator-card">
      <header>
        <input 
          type="checkbox" 
          id="enable24qt"
          aria-controls="slider24qt qty24qt"
          aria-label="Enable 24 quart units">
        <label for="qty24qt">24 QT Units (max: <span id="max24qt">0</span>):</label>
        <progress id="progress24qt" value="0" max="100" aria-label="24 quart units remaining space" />
      </header>
      <input 
        type="number" 
        id="qty24qt" 
        inputmode="numeric" 
        pattern="[0-9]*" 
        min="0" 
        step="1" 
        value="0" 
        class="qty-input"
        aria-label="24 quart units quantity">
      <footer>
        <input 
          type="range" 
          id="slider24qt" 
          min="0" 
          max="100" 
          value="0"
          aria-label="Adjust 24 quart units"
          aria-describedby="qty24qt">
      </footer>
    </article>
  </div>
</div>

<script is:inline src="/scripts/quartflow.js"></script>


